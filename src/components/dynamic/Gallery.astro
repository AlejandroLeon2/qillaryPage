---
const { images = [] } = Astro.props;

const getImage = (index) => {
  const img = images[index];
  return {
    show: !!img?.src,
    src: img?.src || "/nice.png",
    alt: img?.alt || "Landscape from the tour",
    title: `Tour image: ${img?.ariallabel || "Peruvian scenery"}`,
  };
};
---

<section
  class="md:grid flex flex-col space-y-4 md:space-y-0 grid-cols-1 md:grid-cols-6 gap-4 md:p-4"
>
  {
    getImage(0).show && (
      <div class="col-span-3 row-span-2 bg-white rounded shadow overflow-hidden flex items-center justify-center">
        <img {...getImage(0)} class="h-full w-full object-cover" />
      </div>
    )
  }

  {
    getImage(1).show && (
      <div class="col-span-3 bg-white rounded shadow overflow-hidden flex items-center justify-center">
        <img {...getImage(1)} class="max-h-full w-full object-cover" />
      </div>
    )
  }

  {
    getImage(2).show && (
      <div class="col-span-3 bg-white rounded shadow overflow-hidden flex items-center justify-center">
        <img {...getImage(2)} class="max-h-full w-full object-cover" />
      </div>
    )
  }

  {
    getImage(3).show && (
      <div class="col-span-2 bg-white rounded shadow overflow-hidden flex items-center justify-center">
        <img {...getImage(3)} class="h-full w-full object-cover" />
      </div>
    )
  }

  {
    getImage(4).show && (
      <div class="col-span-4 bg-white rounded shadow overflow-hidden h-50 xl:h-70 flex items-center justify-center">
        <img {...getImage(4)} class="h-full w-full object-cover" />
      </div>
    )
  }
</section>
